# 写在前面

由于软件开发越来越工程化巨量化，不同于单文件的简单编译链接生成可执行文件，工程软件所涉及的依赖越来越复杂及文件数量越来越大，其编译链接过程十分复杂，因此掌握一套软件工程编译工具是很有必要的，并且对于复杂软件工程的开发及研究也是很有裨益。<br>
CMake就是一款用于软件工程编译的工具。因为实际应用的程序大多数都是使用这个工具作为高层次工具，因此熟练掌握及应用这个工具对于之后的学习和工作有挺多的便利。本文基于自己对于CMake的认识和学习进行的简单总结，为了方便自己之后查看以及同样初学的同学参考。

# 目录
* CMake基本认识
* CMake基本使用步骤
* CMakeLists基本概念

# CMake基本认识
`CMake`这个工具是为了方便使用`make`编译构建工具而诞生的。因为`make`工具本身是较为底层的编译构建工具，对于大型软件工程如果我们自己来编写`makefile`这个难度较大而且可能也容易出错，而`CMake`就是基于`make`的高层次编译构建工具。<br>
与`make`工具类似，`CMake`工具也需要编写构建文件,默认名为`CMakeLists.txt`。`CMake`工具利用编写好的编译构建文件`CMakeLists.txt`，生成`makefile`,之后再利用`make`工具完成实际的编译构建过程。因此我们可以看出`CMake`就是用于生成规范化的`makefile`的工具，实际上的编译构建工作还是由`make`实现，只不过`CMake`将编译构建过程进行了更高层次地抽象，更容易让人理解，减少了很多自己编写`makefile`文件可能存在的麻烦和可能出现的问题。除此之外，`CMake`还能方便地让人控制编译过程，可以提高软件工程编译构建的灵活性。

# CMake基本使用步骤
`CMake`工具的基本使用离不开可执行程序`cmake`和编译构建文件`CMakeLists.txt`的配合。一个基本的使用`CMake`工具进行编译的软件工程的简单用法如下。
### 软件工程结构如下：
```
project
|--build
│--CMakeLists.txt
│--source.cpp
```
* `build`:表示`CMake`生成的cache文件目录以及后续编译构建生成文件的保存目录。
* `CMakeLists.txt`:`CMake`编译构建文件。
<br>

### 对于形式如上的工程，整个编译构建过程如下：
1. 切换当前目录至`build`文件目录下
2. 运行命令行：
```
cmake ..
```
这句话的意思表示指定`CMakeLists.txt`所在的目录，并且在`build`目录下生成`cmake cache`相关文件。同时`Makefile`也在`build`目录下生成完毕
3. 运行命令行：
```
make
```
使用`make`工具完成编译构建过程。

# CMakeLists基本概念
